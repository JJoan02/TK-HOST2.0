//      █████╗ ██████╗ ███╗   ███╗██╗███╗   ██╗   ████████╗██╗  ██╗
//     ██╔══██╗██╔══██╗████╗ ████║██║████╗  ██║   ╚══██╔══╝██║ ██╔╝
//     ███████║██║  ██║██╔████╔██║██║██╔██╗ ██║█████╗██║   █████╔╝ 
//     ██╔══██║██║  ██║██║╚██╔╝██║██║██║╚██╗██║╚════╝██║   ██╔═██╗ 
//     ██║  ██║██████╔╝██║ ╚═╝ ██║██║██║ ╚████║      ██║   ██║  ██╗
//     ╚═╝  ╚═╝╚═════╝ ╚═╝     ╚═╝╚═╝╚═╝  ╚═══╝      ╚═╝   ╚═╝  ╚═╝

//       ____ ____  _____    _    ____   ___    ____   ___  ____  
//      / ___|  _ \| ____|  / \  |  _ \ / _ \  |  _ \ / _ \|  _ \ 
//     | |   | |_) |  _|   / _ \ | | | | | | | | |_) | | | | |_) |
//     | |___|  _ <| |___ / ___ \| |_| | |_| | |  __/| |_| |  _ < 
//      \____|_| \_\_____/_/   \_\____/ \___/  |_|    \___/|_| \_\


//          ██╗ ██████╗  █████╗ ███╗   ██╗    ████████╗██╗  ██╗
//          ██║██╔═══██╗██╔══██╗████╗  ██║    ╚══██╔══╝██║ ██╔╝
//          ██║██║   ██║███████║██╔██╗ ██║       ██║   █████╔╝ 
//     ██   ██║██║   ██║██╔══██║██║╚██╗██║       ██║   ██╔═██╗ 
//     ╚█████╔╝╚██████╔╝██║  ██║██║ ╚████║       ██║   ██║  ██╗
//      ╚════╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝       ╚═╝   ╚═╝  ╚═╝
                                                        
/*
        📝 𝗣𝗿𝗼𝗷𝗲𝗰𝘁 𝗡𝗮𝗺𝗲: Admin-TK
        🐙 𝗚𝗶𝘁𝗵𝘂𝗯 𝗥𝗲𝗽𝗼𝘀𝗶𝘁𝗼𝗿𝘆: [JJoan02/Admin-TK](https://github.com/JJoan02/Admin-TK)
        👤 𝗢𝘄𝗻𝗲𝗿/𝗖𝗿𝗲𝗮𝘁𝗼𝗿: @JJoan02
        📌 𝗗𝗲𝘀𝗰𝗿𝗶𝗽𝘁𝗶𝗼𝗻:
        Admin-TK es un bot avanzado y multifuncional para WhatsApp que ofrece una amplia gama de complementos, incluyendo automatización de tareas, juegos interactivos,
        y herramientas útiles. 
        Con un diseño centrado en la eficiencia y el entretenimiento, Admin-TK transforma la forma en que interactúas en WhatsApp, brindándote una experiencia intuitiva
        y poderosa.

        
        📅 𝗖𝗿𝗲𝗮𝘁𝗶𝗼𝗻: 15/11/2024 at 08:25:10
        📜 𝗟𝗶𝗰𝗲𝗻𝗰𝗲: GPL-3.0 License
        ⚠️ 𝗥𝗶𝗴𝗵𝘁𝘀 𝗡𝗼𝘁𝗶𝗰𝗲:
        2024 All external and internal rights are reserved to @JJoan02.
*/                                                            

//         ██╗     ██╗ ██████╗  █████╗ ███╗   ██╗ ██████╗ ██████╗ 
//         ██║     ██║██╔═══██╗██╔══██╗████╗  ██║██╔═████╗╚════██╗
//         ██║     ██║██║   ██║███████║██╔██╗ ██║██║██╔██║ █████╔╝
//    ██   ██║██   ██║██║   ██║██╔══██║██║╚██╗██║████╔╝██║██╔═══╝ 
//    ╚█████╔╝╚█████╔╝╚██████╔╝██║  ██║██║ ╚████║╚██████╔╝███████╗
//     ╚════╝  ╚════╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚══════╝


const _0x5b5611=_0x4bea;(function(_0x493578,_0x408372){const _0x27a541=_0x4bea,_0x2754cc=_0x493578();while(!![]){try{const _0x1df3e4=-parseInt(_0x27a541(0xcd))/0x1*(-parseInt(_0x27a541(0xb8))/0x2)+parseInt(_0x27a541(0xdb))/0x3+parseInt(_0x27a541(0xe1))/0x4*(-parseInt(_0x27a541(0xde))/0x5)+parseInt(_0x27a541(0xb9))/0x6*(-parseInt(_0x27a541(0xd9))/0x7)+-parseInt(_0x27a541(0xd1))/0x8*(parseInt(_0x27a541(0xae))/0x9)+-parseInt(_0x27a541(0xc9))/0xa*(parseInt(_0x27a541(0xcc))/0xb)+-parseInt(_0x27a541(0xc5))/0xc*(-parseInt(_0x27a541(0xd2))/0xd);if(_0x1df3e4===_0x408372)break;else _0x2754cc['push'](_0x2754cc['shift']());}catch(_0x5acf78){_0x2754cc['push'](_0x2754cc['shift']());}}}(_0x4600,0x76fd2));function _0x4600(){const _0x37ef95=['560YaSfSO','kill','2782482mzPFkM','console','colores','2424995GdMWGi','log','[✦]\x20El\x20proceso\x20finalizó\x20con\x20el\x20código:','8VJoDkg','error','say','TK-HOST','exitProcess','2951118IiahKR','stdin','Error\x20en\x20la\x20tarea\x20programada:','run','listenerCount','./package.json','message','Error\x20al\x20inicializar\x20la\x20base\x20de\x20datos:','magenta','block','2vlJfui','42378xQgasE','trim','fuente','alineacion','exec','Mensaje\x20desconocido\x20recibido:','forEach','schedule','UPDATE\x20codigos\x20SET\x20expirado\x20=\x201\x20WHERE\x20expiraEn\x20<=\x20?','reset','emit','Base\x20de\x20datos\x20inicializada\x20y\x20tablas\x20creadas.','12hlGqCk','uptime','cyan','center','5519270NSTduC','Iniciando\x20el\x20archivo\x20principal:\x20','parse','11uwBUSV','316905yvGNzd','red','toISOString','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20codigos\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20codigo\x20TEXT\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20usuario\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20creadoEn\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20expiraEn\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20expirado\x20INTEGER\x0a\x20\x20\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20vinculaciones\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20codigoVinculacion\x20TEXT\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20usuario\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20creadoEn\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20expiraEn\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20utilizado\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20sesiones\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20usuario\x20TEXT\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20inicio\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20fin\x20TEXT\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20','8PjcauR','21551998umKbJX','send','argv','slice','stdout','Creado\x20por\x20•\x20JoanTK','exit'];_0x4600=function(){return _0x37ef95;};return _0x4600();}import _0x2a3e03 from'yargs';import{hideBin}from'yargs/helpers';import _0x2b9db0 from'cfonts';import{fileURLToPath}from'url';import{join,dirname}from'path';import{createRequire}from'module';import{createInterface}from'readline';import{setupMaster,fork}from'cluster';import{watchFile,unwatchFile}from'fs';import{openDb}from'./data/codigos.js';import _0x3e0f38 from'node-cron';const __filename=fileURLToPath(import.meta['url']),__dirname=dirname(__filename),require=createRequire(import.meta['url']),{name,author}=require(join(__dirname,_0x5b5611(0xb3))),rl=createInterface({'input':process[_0x5b5611(0xaf)],'output':process[_0x5b5611(0xd6)]});function _0x4bea(_0x2aa6ae,_0x2a54d9){const _0x46002e=_0x4600();return _0x4bea=function(_0x4beaa3,_0x3d2ae2){_0x4beaa3=_0x4beaa3-0xaa;let _0x56998f=_0x46002e[_0x4beaa3];return _0x56998f;},_0x4bea(_0x2aa6ae,_0x2a54d9);}let procesoEjecutandose=![];function mostrarBanner(){const _0x16e9bc=_0x5b5611,_0x53725b=[{'texto':'Admin-TK','fuente':_0x16e9bc(0xb7),'alineacion':_0x16e9bc(0xc8),'colores':[_0x16e9bc(0xc7)]},{'texto':_0x16e9bc(0xac),'fuente':_0x16e9bc(0xdc),'alineacion':_0x16e9bc(0xc8),'colores':[_0x16e9bc(0xce)]},{'texto':_0x16e9bc(0xd7),'fuente':'tiny','alineacion':_0x16e9bc(0xc8),'colores':[_0x16e9bc(0xb6)]}];_0x53725b[_0x16e9bc(0xbf)](_0x5979bf=>_0x2b9db0[_0x16e9bc(0xab)](_0x5979bf['texto'],{'font':_0x5979bf[_0x16e9bc(0xbb)],'align':_0x5979bf[_0x16e9bc(0xbc)],'colors':_0x5979bf[_0x16e9bc(0xdd)]})),console['log']('✦\x20Iniciando\x20Admin\x20TK...');}async function inicializarBaseDeDatos(){const _0x1bb56f=_0x5b5611;try{let _0xf64d88=await openDb();await _0xf64d88[_0x1bb56f(0xbd)](_0x1bb56f(0xd0)),console[_0x1bb56f(0xdf)](_0x1bb56f(0xc4));}catch(_0x3e5fd1){console[_0x1bb56f(0xaa)](_0x1bb56f(0xb5),_0x3e5fd1);}}function configurarTareasProgramadas(){const _0x56e79a=_0x5b5611;_0x3e0f38[_0x56e79a(0xc0)]('0\x200\x20*\x20*\x20*',async()=>{const _0x6b96d5=_0x56e79a;try{let _0x4d9d81=await openDb();const _0x382556=new Date()[_0x6b96d5(0xcf)]();await _0x4d9d81[_0x6b96d5(0xb1)](_0x6b96d5(0xc1),[_0x382556]),await _0x4d9d81[_0x6b96d5(0xb1)]('UPDATE\x20vinculaciones\x20SET\x20utilizado\x20=\x201\x20WHERE\x20expiraEn\x20<=\x20?',[_0x382556]),console[_0x6b96d5(0xdf)]('Tarea\x20programada\x20ejecutada:\x20Limpieza\x20de\x20códigos\x20expirados.');}catch(_0x2a1ad8){console['error'](_0x6b96d5(0xb0),_0x2a1ad8);}}),console[_0x56e79a(0xdf)]('Tareas\x20programadas\x20configuradas.');}function iniciar(_0x4736ca){const _0x71b093=_0x5b5611;if(procesoEjecutandose)return;procesoEjecutandose=!![];const _0x1eabad=[join(__dirname,_0x4736ca),...process[_0x71b093(0xd4)][_0x71b093(0xd5)](0x2)];console[_0x71b093(0xdf)](_0x71b093(0xca)+_0x4736ca),setupMaster({'exec':_0x1eabad[0x0],'args':_0x1eabad[_0x71b093(0xd5)](0x1)});const _0x53bf6a=fork();_0x53bf6a['on'](_0x71b093(0xb4),_0x4b9913=>{const _0x18f638=_0x71b093;console[_0x18f638(0xdf)]('[✅RECIBIDO]',_0x4b9913);switch(_0x4b9913){case _0x18f638(0xc2):_0x53bf6a[_0x18f638(0xda)](),procesoEjecutandose=![],iniciar(_0x4736ca);break;case _0x18f638(0xc6):_0x53bf6a[_0x18f638(0xd3)](process['uptime']());break;default:console[_0x18f638(0xdf)](_0x18f638(0xbe),_0x4b9913);break;}}),_0x53bf6a['on'](_0x71b093(0xd8),_0x27876d=>{const _0x54cb87=_0x71b093;procesoEjecutandose=![],console[_0x54cb87(0xaa)](_0x54cb87(0xe0),_0x27876d),_0x27876d!==0x0?iniciar(_0x4736ca):watchFile(_0x1eabad[0x0],()=>{unwatchFile(_0x1eabad[0x0]),iniciar(_0x4736ca);});});const _0xefecbe=_0x2a3e03(hideBin(process[_0x71b093(0xd4)]))[_0x71b093(0xad)](![])[_0x71b093(0xcb)]();!rl[_0x71b093(0xb2)]('line')&&rl['on']('line',_0x336fff=>{const _0x3634a5=_0x71b093;_0x53bf6a[_0x3634a5(0xc3)](_0x3634a5(0xb4),_0x336fff[_0x3634a5(0xba)]());});}mostrarBanner(),((async()=>{await inicializarBaseDeDatos(),configurarTareasProgramadas(),iniciar('main.js');})());
